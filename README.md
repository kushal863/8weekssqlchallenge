# 8weekssqlchallenge

## Case Study #1 - Danny's Diner

![image](https://user-images.githubusercontent.com/72497669/231953273-0414174d-a7c9-4923-a457-2abc68fc450a.png)

## 1. Problem Statement
Danny wants to use the data to answer a few simple questions about his customers, especially about their visiting patterns, how much money theyâ€™ve spent and also which menu items are their favourite. Having this deeper connection with his customers will help him deliver a better and more personalised experience for his loyal customers.

He plans on using these insights to help him decide whether he should expand the existing customer loyalty program - additionally he needs help to generate some basic datasets so his team can easily inspect the data without needing to use SQL.

Checkout here for more information : https://8weeksqlchallenge.com/case-study-1/


## 2. ENTITY RELATIONSHIP DIAGRAM

![image](https://user-images.githubusercontent.com/72497669/231954147-8da8bdb8-e8cf-4b63-8dd5-636268d08817.png)

## 3. Case Study Questions

### 1. What is the total amount each customer spent at the restaurant?
### 2. How many days has each customer visited the restaurant?
### 3. What was the first item from the menu purchased by each customer?
### 4. What is the most purchased item on the menu and how many times was it purchased by all customers?
### 5. Which item was purchased first by the customer after they became a member?
### 6. Which item was purchased just before the customer became a member?
### 7. What is the total items and amount spent for each member before they became a member?
### 8. If each $1 spent equates to 10 points and sushi has a 2x points multiplier - how many points would each customer have?
### 9. In the first week after a customer joins the program (including their join date) they earn 2x points on all items, not just sushi - how many points do customer A and B have at the end of January?

## 4. BONUS QUESTIONS

### 1. Join All The Things
###  Create basic data tables that Danny and his team can use to quickly derive insights without needing to join the underlying tables using SQL.

![image](https://user-images.githubusercontent.com/72497669/231989125-2f259c94-5e06-46c7-b885-903c50e4056f.png)


### 2. rank all the things

#### Danny also requires further information about the ranking of customer products, but he purposely does not need the ranking for non-member purchases so he expects null ranking values for the records when customers are not yet part of the loyalty program.

![image](https://user-images.githubusercontent.com/72497669/232039630-b65c08e8-777e-4d34-a842-099a4aa51dc0.png)



## 4 Solutions to the case study questions:
### Solution :1
![Question-1](https://user-images.githubusercontent.com/72497669/231955447-a14d9336-cc68-4303-93e7-d5db3a90ba7c.png)

### Solution :2
![Question-2](https://user-images.githubusercontent.com/72497669/231955524-5fe4ec61-580a-4189-92f4-73fee10d3202.png)

### Solution :3
![Question-3](https://user-images.githubusercontent.com/72497669/231955640-816d2979-505a-4b7a-8b4d-cfa9bde1deed.png)

### Solution :4
![Question-4](https://user-images.githubusercontent.com/72497669/231955775-86f97bf0-fcf5-456c-beff-33710d51e607.png)


### Solution :5
![Question-5](https://user-images.githubusercontent.com/72497669/231955793-766abdbe-3aba-4ba2-97c4-eb840c42b196.png)


### Solution :6
![Question-6](https://user-images.githubusercontent.com/72497669/231955805-bcdb8593-de6c-4648-b268-c5d0b39ba3c4.png)


### Solution :7
![Question-7](https://user-images.githubusercontent.com/72497669/231955815-6226c595-c2e9-4a59-862d-666e8aab6a2c.png)


### Solution :8
![Question-8](https://user-images.githubusercontent.com/72497669/231955839-a8fd3eba-4ecc-455a-adf1-230aa60df796.png)

### Solution :9
![Question-9](https://user-images.githubusercontent.com/72497669/231955856-77db0ee6-ffda-40c9-9c15-ce0efeefe803.png)


### Solution Bonus Questions : 1

![Question-10](https://user-images.githubusercontent.com/72497669/232039988-c3c53a19-5f18-4922-b287-6b4641ae3c01.png)


### Solution Bonus Question : 2

![Question_11](https://user-images.githubusercontent.com/72497669/232040014-1cfd2642-6663-45cf-87f4-b4eac26c5681.png)






